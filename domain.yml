version: "3.1"

intents:
  - saludo
  - solicitar_cita
  - cancelar_cita
  - reprogramar_cita
  - consultar_cita_activa
  - consultar_servicios
  - consultar_horarios_disponibles
  - confirmar
  - negar
  - seleccionar_servicio
  - informar_fecha
  - informar_hora
  - consulta_mecanica
  - agradecer
  - despedirse
  - faq_duracion_servicios
  - consultar_historial_citas

entities:
  - servicio
  - fecha
  - hora

slots:
  servicio:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: servicio
      - type: from_text
        intent: seleccionar_servicio
  fecha:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: fecha
      - type: from_text
        intent: informar_fecha
  hora:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: hora
      - type: from_text
        intent: informar_hora

responses:
  utter_saludo:
    - text: "Â¡Hola! Â¿En quÃ© puedo ayudarte hoy con tu vehÃ­culo?"
  utter_despedida:
    - text: "Â¡Hasta luego! Que tengas un buen dÃ­a."
  utter_agradecimiento:
    - text: "Â¡De nada! Estoy aquÃ­ para ayudarte."
  utter_consultar_servicios:
    - text: "Servicios disponibles:\n- Cambio de aceite\n- RevisiÃ³n general\n- AlineaciÃ³n\n- Balanceo\n- Mantenimiento preventivo\nÂ¿CuÃ¡l necesitas?"
  utter_ask_servicio:
    - text: "Â¿QuÃ© servicio necesitas? (cambio de aceite, revisiÃ³n general, alineaciÃ³n, balanceo, mantenimiento preventivo)"
  utter_ask_fecha:
    - text: "Â¿Para quÃ© fecha deseas agendar la cita? (Ejemplo: 2025-06-15)"
  utter_ask_hora:
    - text: "Â¿A quÃ© hora deseas la cita? (Ejemplo: 10:00, entre 08:00 y 18:00)"
  utter_confirmar_cita:
    - text: "Resumen de cita:\nServicio: {servicio}\nFecha: {fecha}\nHora: {hora}\nÂ¿Confirmar?"
  utter_cancelar_cita:
    - text: "âœ… Cita cancelada exitosamente"
  utter_reprogramar_cita:
    - text: "ğŸ”„ Cita reprogramada para {fecha} a las {hora}"
  utter_error_fecha:
    - text: "âš ï¸ Fecha invÃ¡lida. Ingresa una fecha futura (Ej: 2025-05-30)"
  utter_error_hora:
    - text: "âš ï¸ Hora fuera de nuestro horario (08:00 - 18:00)"
  utter_horarios:
    - text: "Horarios de atenciÃ³n:\nLunes a Viernes: 08:00 - 18:00\nSÃ¡bados: 09:00 - 14:00"
  utter_default:
    - text: "ğŸ¤– No entendÃ­. Â¿PodrÃ­as repetirlo?"
  utter_duracion_servicios:
    - text: "DuraciÃ³n aproximada de servicios:\n- Cambio de aceite: 30 min\n- AlineaciÃ³n: 1 hora\n- RevisiÃ³n general: 2 horas"

forms:
  agendar_cita_form:
    required_slots:
      - servicio
      - fecha
      - hora

actions:
  - action_agendar_cita
  - action_cancelar_cita
  - action_reprogramar_cita
  - validate_agendar_cita_form
  - action_default_fallback
  - action_responder_consulta_mecanica
  - action_consultar_cita
  - action_mostrar_historial

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true 